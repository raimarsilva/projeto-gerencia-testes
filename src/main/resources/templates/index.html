<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Projeto Gerência Testes</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
</head>

<body>
  <div class="title">
    <h1>CADASTRAR CONTRATO</h1>
  </div>
  <br />

  <div class="registry-box">
    <form th:action="@{/cadastrar}" method="post" class="form-grid">

      <!-- ================= DADOS DO CONTRATO ================= -->
      <div class="section-title">Dados do Contrato</div>

      <div class="form-group">
        <label for="anoContrato">Ano do contrato</label>
        <input type="number" id="anoContrato" name="anoContrato" th:value="${#dates.year(#dates.createNow())}"
          placeholder="Ano atual" readonly>
      </div>

      <div class="form-group">
        <label for="numProc">Nº Processo</label>
        <input type="text" id="numProc" name="numProc" placeholder="Ex: 23077/2026" required>
      </div>

      <div class="form-group">
        <label for="edital">Edital</label>
        <input type="text" id="edital" name="edital" placeholder="Número do edital" required>
      </div>

      <div class="form-group">
        <label for="douEdital">DOU Edital</label>
        <input type="text" id="douEdital" name="douEdital" placeholder="DOU do edital" required>
      </div>

      <div class="form-group">
        <label for="dataDouEdital">Data DOU Edital</label>
        <input type="date" id="dataDouEdital" name="dataDouEdital" required>
      </div>

      <div class="form-group">
        <label for="assinante">Assinante</label>
        <input type="text" id="assinante" name="assinante" placeholder="Nome do assinante" required>
      </div>

      <!-- ================= DADOS PESSOAIS ================= -->
      <div class="section-title">Dados Pessoais</div>

      <div class="form-group">
        <label for="nome">Nome do professor</label>
        <input type="text" id="nome" name="nome" placeholder="Nome completo" required>
      </div>

      <div class="form-group">
        <label for="cpf">CPF</label>
        <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required>
      </div>

      <div class="form-group">
        <label for="estCivil">Estado civil</label>
        <input type="text" id="estCivil" name="estCivil" placeholder="Solteiro(a), Casado(a)..." required>
      </div>

      <div class="form-group">
        <label for="nacionalidade">Nacionalidade</label>
        <input type="text" id="nacionalidade" name="nacionalidade" placeholder="Brasileira" required>
      </div>

      <div class="form-group">
        <label for="rg">RG</label>
        <input type="text" id="rg" name="rg" placeholder="Somente números" required>
      </div>

      <div class="form-group">
        <label for="emissorRg">Emissor RG</label>
        <input type="text" id="emissorRg" name="emissorRg" placeholder="SSP, ITEP..." required>
      </div>

      <div class="form-group">
        <label for="passaporte">Passaporte</label>
        <input type="text" id="passaporte" name="passaporte" placeholder="Número do passaporte">
      </div>

      <div class="form-group">
        <label for="emissorPassaporte">Emissor Passaporte</label>
        <input type="text" id="emissorPassaporte" name="emissorPassaporte" placeholder="Órgão emissor">
      </div>

      <div class="form-group">
        <label for="logradouro">Logradouro</label>
        <input type="text" id="logradouro" name="logradouro" placeholder="Rua, Avenida..." required>
      </div>

      <div class="form-group">
        <label for="endereco">Endereço</label>
        <input type="text" id="endereco" name="endereco" placeholder="Nome da via" required>
      </div>

      <div class="form-group">
        <label for="enderecoNumero">Número</label>
        <input type="text" id="enderecoNumero" name="enderecoNumero" placeholder="Número do imóvel" required>
      </div>

      <div class="form-group">
        <label for="enderecoComplemento">Complemento</label>
        <input type="text" id="enderecoComplemento" name="enderecoComplemento" placeholder="Apartamento, bloco, etc">
      </div>

      <div class="form-group">
        <label for="enderecoBairro">Bairro</label>
        <input type="text" id="enderecoBairro" name="enderecoBairro" placeholder="Bairro" required>
      </div>

      <div class="form-group">
        <label for="enderecoCidade">Cidade</label>
        <input type="text" id="enderecoCidade" name="enderecoCidade" placeholder="Cidade" required>
      </div>

      <div class="form-group">
        <label for="enderecoEstado">Estado</label>
        <input type="text" id="enderecoEstado" name="enderecoEstado" placeholder="UF" required>
      </div>

      <!-- ================= DADOS FUNCIONAIS ================= -->
      <div class="section-title">Dados Funcionais</div>

      <div class="form-group">
        <label for="cargo">Cargo</label>
        <input type="text" id="cargo" name="cargo" placeholder="Professor Substituto" required>
      </div>

      <div class="form-group">
        <label for="unidade">Unidade</label>
        <input type="text" id="unidade" name="unidade" placeholder="Departamento / Campus" required>
      </div>

      <div class="form-group">
        <label for="area">Área</label>
        <input type="text" id="area" name="area" placeholder="Área de atuação" required>
      </div>

      <div class="form-group">
        <label for="cargaHoraria">Carga horária</label>
        <input type="number" id="cargaHoraria" name="cargaHoraria" placeholder="Horas semanais" required>
      </div>

      <div class="form-group">
        <label for="remuneracao">Remuneração</label>
        <input type="number" step="0.01" id="remuneracao" name="remuneracao" placeholder="Ex: 5432.19" required>
      </div>

      <div class="form-group">
        <label for="classe">Classe</label>
        <input type="text" id="classe" name="classe" placeholder="Classe funcional" required>
      </div>

      <div class="form-group">
        <label for="titulacao">Titulação</label>
        <input type="text" id="titulacao" name="titulacao" placeholder="Graduação, Mestrado..." required>
      </div>

      <div class="form-group">
        <label for="dataAssinatura">Data assinatura</label>
        <input type="date" id="dataAssinatura" name="dataAssinatura" required>
      </div>

      <div class="form-group">
        <label for="dataVigencia">Data vigência</label>
        <input type="date" id="dataVigencia" name="dataVigencia" required>
      </div>

      <button type="submit" class="btn-submit">Cadastrar</button>

    </form>
  </div>


  <br />

  <div class="listing">
    <h2>CONTRATOS CADASTRADOS</h2>
    <p th:if="${contratos == null or contratos.isEmpty()}">Nenhum contrato cadastrado.</p>
    <table>
      <thead>
        <tr>
          <th>Ano</th>
          <th>Nº Processo</th>
          <th>Nome</th>
          <th>Cargo</th>
          <th>Unidade</th>
          <th>Carga Horária</th>
          <th>Data Assinatura</th>
          <th>Data Vigência</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="c : ${contratos}">
          <td th:text="${c.anoContrato}"></td>
          <td th:text="${c.numProc}"></td>
          <td th:text="${c.nome}"></td>
          <td th:text="${c.cargo}"></td>
          <td th:text="${c.unidade}"></td>
          <td th:text="${c.cargaHoraria}"></td>
          <td th:text="${c.dataAssinatura}"></td>
          <td th:text="${c.dataVigencia}"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <script th:src="@{/js/calc-vigencia.js}"></script>
</body>

</html>